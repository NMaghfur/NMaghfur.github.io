<!DOCTYPE html>
<html>
<head>
	<title>Tic Tac Toe</title>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<style type="text/css">

	html,body { height: 100% }

	.tile {
		display: inline;
		width: 100px;
		height: 100px;
		background: #ffffff;
		border-radius: 5px;
		border-color: #2471fe;
		margin: 2px;
		color:#2471f33e
	}

	.lines {
		position: absolute;
		border: 1px solid #2471fe;
	}

	</style>
</head>
<body>

<div class="container-fluid d-flex flex-column h-100 justify-content-between p-0">

<div class="container-fluid d-flex flex-row justify-content-center mt-5">
<div style="position:relative ; display: inline-block">
	<!-- Lines -->
	<div class="lines" style="width: 100%; height: 0px; top: 103px; "></div>
	<div class="lines" style="width: 100%; height: 0px; top: 207px; "></div>
	<div class="lines" style="width: 0px; height: 100%; left: 103px;"></div>
	<div class="lines" style="width: 0px; height: 100%; left: 207px;"></div>
	<!-- Map -->
	<button class="tile"></button><button class="tile"></button><button class="tile"></button><br>
	<button class="tile"></button><button class="tile"></button><button class="tile"></button><br>
	<button class="tile"></button><button class="tile"></button><button class="tile"></button>
</div>
</div>


<div id="feedback"
class="container-fluid d-flex flex-row justify-content-center">
	<div id="announce"></div>
</div>


<div class="container-fluid d-flex flex-row justify-content-between">
	<div class="container col-8 p-0 m-0"><h1>tic-tac-toe</h1></div>
	<div class="container col-4 p-0 m-0 text-right" id="restart"><h1>restart</h1></div>
</div>

</div>

<div class="fixed-bottom text-black-50 text-center">Developed by Nabil Maghfur Usman @ NEXT Academy</div>

</body>


<script type="text/javascript">
let board = [
"","","",
"","","",
"","","",
	];

count = 0;

var tiles = document.querySelectorAll(".tile")	

function getVictor (array) {
	// horizontal
	if (board[0]==board[1] && board[0]==board[2] && board[0]){return board[0]} else
	if (board[3]==board[4] && board[3]==board[5] && board[3]){return board[3]} else
	if (board[6]==board[7] && board[6]==board[8] && board[6]){return board[6]} else

	// vertical
	if (board[0]==board[3] && board[0]==board[6] && board[0]){return board[0]} else
	if (board[1]==board[4] && board[1]==board[7] && board[1]){return board[4]} else
	if (board[2]==board[5] && board[2]==board[8] && board[2]){return board[8]} else

	// diagonaal
	if (board[0]==board[4] && board[0]==board[8] && board[0]){return board[0]} else
	if (board[2]==board[4] && board[2]==board[6] && board[2]){return board[2]} else return false
}

const announcer = document.getElementById("announce")
announce.innerHTML = "Player X's turn"

const reloader = document.getElementById("restart")
reloader.onclick = function(){location.reload()}

for (var i = tiles.length - 1; i >= 0; i--) {
	tiles[i].innerHTML = i
	tiles[i].onclick = function (event) {
		if (event.target.innerHTML == "X" || event.target.innerHTML == "O") {return}

		// Even = X
		if (count % 2 == 0) {
			index=event.target.innerHTML
			board[index] = "X";
			event.target.innerHTML="X"
			event.target.style.color="#2471fe"
			announcer.innerHTML="Player O's turn"
			count++
		} else
		{
			index=event.target.innerHTML
			board[index] = "O";
			event.target.innerHTML="O"
			event.target.style.color="#2471fe"
			announcer.innerHTML="Player X's turn"
			count++
		}
	console.log(board);

		victor = getVictor();
		if (victor != false) {
			announcer.innerHTML="Player " +victor+ " has won!"
			for (var i = tiles.length - 1; i >= 0; i--) {
				tiles[i].onclick = undefined
			}
		} else if (count == 9) {
			announcer.innerHTML="Player X and Player O are tied!"
		}


	}
}

</script>
</html>
